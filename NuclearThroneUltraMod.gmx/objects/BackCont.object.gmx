<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>5</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>viewx = 0
viewy = 0
viewx2 = 0
viewy2 = 0

shake = 0
kills = 0
enemiesInStartLevel=0;
//maxEnemyHealthInLevel=0;
totalEnemyHealth=0;
hard = 0
area = 0
subarea = 0

shad = noone;//surface_create(view_wview,view_hview)


alarm[0] = 1

vanCome1=10;
canspawnvan1=true;

vanCome2=10;
canspawnvan2=true;

vanCome3=10;
canspawnvan3=true;

vanCome4=10;
canspawnvan4=true;


alarm[1] = 120
alarm[2] = 300;//popo van
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///not sure if I have to free surface memory here
if (surface_exists(shad))
{
    surface_set_target(shad);
    draw_clear(0);
    surface_free(shad);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ROGUE Ultra new captain
if (!instance_exists(GenCont) &amp;&amp; !instance_exists(LevCont) &amp;&amp; instance_exists(Floor))
{

var spawnfloor = instance_nearest(Player.x+choose(random(64)+132,random(-64)-132),Player.y+choose(random(48)+8,random(-48)-8),Floor);
if instance_exists(spawnfloor)

with instance_create(spawnfloor.x+16,spawnfloor.y+16,VanSpawn)
{
RogueIDPD=true;
}



}
else
alarm[5]=60+random(120);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///in case JW progression fails again
alarm[4]=10000;
if instance_exists(Corpse)
{
Corpse.alarm[0]=10;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Horror Ultra B Anomaly
totalEnemyHealth=0;
with enemy
{
if object_index=IDPDVan
other.totalEnemyHealth+=floor(my_health*0.1)
else
other.totalEnemyHealth=other.totalEnemyHealth+my_health
}

//We've reached a new high set this as the maximum hp we found this level.
//if totalEnemyHealth&gt;maxEnemyHealthInLevel
//maxEnemyHealthInLevel=totalEnemyHealth;

if totalEnemyHealth&lt;140&amp;&amp;!instance_exists(GenCont)&amp;&amp;!instance_exists(LevCont)&amp;&amp;instance_exists(enemy)&amp;&amp;!instance_exists(becomenemy)
{
with enemy
my_health=0;

snd_play(sndHorrorPortal)
}
else
alarm[3]=10+random(30);



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///popo vans

alarm[2]=70+irandom(120);//minimum delay between vans

if (!instance_exists(GenCont) &amp;&amp; !instance_exists(LevCont) &amp;&amp; instance_exists(Floor))
{

//loop 1
if ( (instance_number(enemy)&lt;enemiesInStartLevel*vanCome1&amp;&amp;instance_exists(Player) ) &amp;&amp; canspawnvan1==true )
{

canspawnvan1=false;
var spawnfloor = instance_nearest(Player.x+choose(random(64)+132,random(-64)-132),Player.y+choose(random(48)+8,random(-48)-8),Floor);
if instance_exists(spawnfloor)
instance_create(spawnfloor.x+16,spawnfloor.y+16,VanSpawn);

exit;
}

//loop 2
if ( (instance_number(enemy)&lt;enemiesInStartLevel*vanCome2&amp;&amp;instance_exists(Player) ) &amp;&amp; canspawnvan2==true )
{

canspawnvan2=false;
var spawnfloor = instance_nearest(Player.x+choose(random(64)+132,random(-64)-132),Player.y+choose(random(48)+8,random(-48)-8),Floor);
if instance_exists(spawnfloor)
instance_create(spawnfloor.x+16,spawnfloor.y+16,VanSpawn);

exit;
}

//loop 3
if ( (instance_number(enemy)&lt;enemiesInStartLevel*vanCome3&amp;&amp;instance_exists(Player) ) &amp;&amp; canspawnvan3==true )
{

canspawnvan3=false;
var spawnfloor = instance_nearest(Player.x+choose(random(64)+132,random(-64)-132),Player.y+choose(random(48)+8,random(-48)-8),Floor);
if instance_exists(spawnfloor)
instance_create(spawnfloor.x+16,spawnfloor.y+16,VanSpawn);

exit;
}

///loop 4
if ( (instance_number(enemy)&lt;enemiesInStartLevel*vanCome4&amp;&amp;instance_exists(Player) ) &amp;&amp; canspawnvan4==true )
{

canspawnvan4=false;
var spawnfloor = instance_nearest(Player.x+choose(random(64)+132,random(-64)-132),Player.y+choose(random(48)+8,random(-48)-8),Floor);
if instance_exists(spawnfloor)
instance_create(spawnfloor.x+16,spawnfloor.y+16,VanSpawn);

}



}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///popo

if instance_exists(Player) and !instance_exists(GenCont) and !instance_exists(LevCont)
{
//chance that idpd stop spawning
if random(3+Player.loops)&gt;1
alarm[1] = 1000//500

if  (( (Player.loops &gt;= 1 and instance_number(Grunt) &lt; 3+Player.loops and Player.area != 100) || Player.crown=10) &amp;&amp; instance_number(enemy)&gt;0)
{
repeat(Player.loops)    
instance_create(Player.x,Player.y,IDPDSpawn)        
if Player.crown==10//crown of difficulty
{
repeat(Player.loops)   
instance_create(Player.x,Player.y,IDPDSpawn)
}

}

if Player.crown==10
alarm[1]=400;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[0] = 1+random(60)

if instance_exists(Player)
area = Player.area

if UberCont.opt_highquality=1
{

if area = 0
{
with instance_nearest(view_xview+random(view_wview),view_yview+random(view_hview),Floor)
{
if place_meeting(x-32,y,Floor) and place_meeting(x+32,y,Floor) and place_meeting(x,y-32,Floor) and place_meeting(x,y+32,Floor)
instance_create(x+random(32),y+random(32),WindNight)
}
}

if area = 1
{
with instance_nearest(view_xview+random(view_wview),view_yview+random(view_hview),Floor)
{
if place_meeting(x-32,y,Floor) and place_meeting(x+32,y,Floor) and place_meeting(x,y-32,Floor) and place_meeting(x,y+32,Floor)
instance_create(x+random(32),y+random(32),Wind)
}
}
if area = 2
{
alarm[0] = 1+random(120)
with instance_nearest(view_xview+random(view_wview),view_yview+random(view_hview),Floor)
instance_create(x+random(24)+8,y+random(24)+8,Drip)
}
if area = 3
{
alarm[0] = 1
repeat(3)
instance_create(view_xview+random(view_wview*2)-view_wview/2,view_yview+random(view_hview*2)-view_hview/2,RainDrop)
}

if area = 4 or area = 103
{
with instance_nearest(view_xview+random(view_wview),view_yview+random(view_hview),Floor)
instance_create(x+random(24)+8,y+random(24)+8,CaveSparkle)
}
if area = 102
{
alarm[0] = 1+random(120)
with instance_nearest(view_xview+random(view_wview),view_yview+random(view_hview),Floor)
{with instance_create(x+random(24)+8,y+random(24)+8,Drip)
sprite_index = sprCheeseDrip}
}

if area = 5 || area = 107
{

alarm[0] = 2
instance_create(view_xview+random(view_wview*2)-view_wview/2,view_yview+random(view_hview*2)-view_hview/2,SnowFlake)

if random(50) &lt; 1
{
if instance_exists(Player){
with Player{ if race != 8 and race != 5{
with instance_create(x,y,Breath)
image_xscale = other.right}}
}
}
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scrShadows();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(Player)
{
if !instance_exists(GenCont)
{
viewdist = 9

if Player.wep_type[Player.wep] = 0 or Player.wep_type[Player.wep] = 2
viewdist = 9

if Player.wep_type[Player.wep] = 3
viewdist = 8

if(Player.skill_got[19]){//EAGLE EYES
viewdist-=5;}


if Player.my_health &gt; 0
{
viewx = ((Player.x-view_wview/2)*(viewdist-1)+(mouse_x-view_wview/2))/viewdist
viewy = ((Player.y-view_hview/2)*(viewdist-1)+(mouse_y-view_hview/2))/viewdist
}
if (instance_exists(Tangle) or instance_exists(TangleSeed)) and mouse_check_button(mb_right) &amp;&amp; Player.ultra_got[20]=0//stereo snares confusion
{
if instance_exists(TangleSeed)
{
viewx = (((TangleSeed.x+Player.x*2)/3-view_wview/2)*(viewdist-1)+(mouse_x-view_wview/2))/viewdist
viewy = (((TangleSeed.y+Player.y*2)/3-view_hview/2)*(viewdist-1)+(mouse_y-view_hview/2))/viewdist
}
else
{
viewx = (((Tangle.x+Player.x*1.5)/2.5-view_wview/2)*(viewdist-1)+(mouse_x-view_wview/2))/viewdist
viewy = (((Tangle.y+Player.y*1.5)/2.5-view_hview/2)*(viewdist-1)+(mouse_y-view_hview/2))/viewdist
}
}
/*if instance_exists(Portal)
{
//viewx = ((( (Portal.x) +Player.x*3)/4-view_wview/2)*(viewdist-1)+(mouse_x-view_wview) )/viewdist//viewx = (((Portal.x+Player.x*3)/4-view_wview/2)*(viewdist-1)+(mouse_x-view_wview/2))/viewdist
//viewy = ((( (Portal.y) +Player.y*3)/4-view_hview/2)*(viewdist-1)+(mouse_y-view_hview) )/viewdist//viewy = (((Portal.y+Player.y*3)/4-view_hview/2)*(viewdist-1)+(mouse_y-view_hview/2))/viewdist
//viewx = (((Portal.x+Player.x*3)/4-view_wview/2)*(viewdist-1)+(mouse_x-view_wview/2))/viewdist

viewx = (((Player.x-view_wview/2)-((Player.x-Portal.x)*0.07))*(viewdist-1)+(mouse_x-view_wview/2))/viewdist

viewy = (((Player.y-view_hview/2)-((Player.y-Portal.y)*0.07))*(viewdist-1)+(mouse_y-view_hview/2))/viewdist

//viewy = (((Portal.y+Player.y*3)/4-view_hview/2)*(viewdist-1)+(mouse_y-view_hview/2))/viewdist
}*/

if instance_exists(DramaCamera)
{
cam = instance_nearest(x,y,DramaCamera)
if cam.visible = 1
{
viewx = (viewx+cam.x*cam.urgent)/(1+cam.urgent)-view_wview/2
viewy = (viewy+cam.y*cam.urgent)/(1+cam.urgent)-view_hview/2
}
}
}
}


if instance_exists(Menu)
{
    if UberCont.cgot[Menu.race]
    {
    viewx2 = viewx2-(viewx2-(Menu.char[Menu.race].x-view_wview/2))*0.1
    viewy2 = viewy2-(viewy2-(Menu.char[Menu.race].y-view_hview/2))*0.1
    }
}
else
{
viewx2 = viewx2-(viewx2-viewx)*0.4
viewy2 = viewy2-(viewy2-viewy)*0.4
}

view_xview = round(viewx2+(random(shake)-shake/2)*UberCont.opt_shake);
view_yview = round(viewy2+(random(shake)-shake/2)*UberCont.opt_shake);

if shake &gt; 10
shake *= 0.8
if shake &gt; 0
shake -= 1
else
shake = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (surface_exists(shad))
{
    surface_set_target(shad);
    draw_clear(0);
    surface_free(shad);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(Player)
{
//progression
alarm[4]=10000;

vanCome1=random_range(0.2,0.8);
if (    UberCont.loops&gt;0 &amp;&amp; Player.subarea!=3 &amp;&amp; (Player.area!=6&amp;&amp;Player.subarea!=2) &amp;&amp; (Player.area!=7 &amp;&amp; Player.subarea!=2) &amp;&amp; (Player.area!=112&amp;&amp;Player.subarea!=2) &amp;&amp; (Player.area!=108 &amp;&amp; Player.subarea!=2)   )//no bosses
canspawnvan1=true;
else
canspawnvan1=false;

vanCome2=random_range(0.2,0.8);
if (    UberCont.loops&gt;1  &amp;&amp; Player.subarea!=3 &amp;&amp; (Player.area!=6&amp;&amp;Player.subarea!=2) &amp;&amp; (Player.area!=7 &amp;&amp; Player.subarea!=2)   )//no bosses
canspawnvan2=true;
else
canspawnvan2=false;

vanCome3=random_range(0.2,0.8);
if (    UberCont.loops&gt;2  &amp;&amp; Player.subarea!=3 &amp;&amp; (Player.area!=6&amp;&amp;Player.subarea!=2) &amp;&amp; (Player.area!=7 &amp;&amp; Player.subarea!=2)   )//no bosses
canspawnvan3=true;
else
canspawnvan3=false;

vanCome4=random_range(0.2,0.8);
if (    UberCont.loops&gt;3  &amp;&amp; Player.subarea!=3 &amp;&amp; (Player.area!=6&amp;&amp;Player.subarea!=2) &amp;&amp; (Player.area!=7 &amp;&amp; Player.subarea!=2)   )//no bosses
canspawnvan4=true;
else
canspawnvan4=false;

if UberCont.opt_gamemode=18 || UberCont.opt_gamemode=9//no elite idpd
{
canspawnvan1=false
canspawnvan2=false
canspawnvan3=false
canspawnvan4=false
}



if Player.ultra_got[82]
{
alarm[3]=60;
//maxEnemyHealthInLevel=0;
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (surface_exists(shad))
{
    surface_set_target(shad);
    draw_clear(0);
    surface_free(shad);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//scrShadows()
//draw
if UberCont.opt_shadow=1
draw_surface_ext(shad,round(view_xview),round(view_yview),1,1,0,c_black,0.4);
/*if !(surface_exists(shad) )
{    shad = surface_create(screen_w,screen_h)}



//draw

///schadows
//used to be end step but this is better?
*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if keyboard_check(vk_control)
scrRestart()
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
