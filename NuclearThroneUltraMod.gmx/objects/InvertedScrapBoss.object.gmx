<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprInvertedScrapBossIdle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>enemy</parentName>
  <maskName>mskScrapBoss</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>raddrop = 120
maxhealth = 250
meleedamage = 0
size = 3

if UberCont.loops&gt;1
maxhealth=290;

event_inherited()

if instance_exists(Player){
my_health=round( (1+(Player.loops*0.4))*my_health )//bandit loop 1: 1.1*4= 5(rounded up)
maxhealth=my_health;
}

spr_idle = sprInvertedScrapBossIdle
spr_walk = sprInvertedScrapBossWalk
spr_hurt = sprInvertedScrapBossHurt
spr_dead = sprInvertedScrapBossDead
spr_fire = sprInvertedScrapBossFire


right = 1
scrTarget()
if target != -1
gunangle = point_direction(x,y,target.x,target.y)
else
gunangle = 0

alarm[0] = 30
ammo = 15
turn = choose(1,-1)
walk = 0

instance_create(x,y,DramaCamera)

dir = random(360)
repeat(10)
{
with instance_create(x,y,Dust)
motion_add(other.dir,8)
dir += 36
}

with Wall
{
if place_meeting(x,y,other)
{
instance_destroy()
instance_create(x,y,FloorExplo)
}
}


snd_hurt = sndBigDogHit
snd_dead = sndBigDogDeath

sndhalfhp = 0
sndtaunt = 0
tauntdelay = 0

if instance_exists(Player)
{
with InvertedRaven
{
scrRavenLift()
}
}

originalgunangle=gunangle;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with MusCont
{
audio_stop_sound(song)

song = sndBossWin
snd_play(song)
//snd_loop(amb)

audio_master_gain(max(0,sqrt(UberCont.opt_sfxvol)))

audio_sound_gain(song,max(0,sqrt(UberCont.opt_musvol)),0);

audio_sound_gain(amb,max(0,sqrt(UberCont.opt_ambvol)),0);

//audio_sound_gain(sndBossWin,max(0,sqrt(UberCont.opt_musvol)),0);
}

scrDrop(0,100)

Sleep(50)
instance_create(x,y,BigDogExplo)
event_inherited()

with instance_nearest(x,y,Corpse)
instance_destroy()

img = 0
repeat(6)
{
with instance_create(x,y,ScrapBossCorpse)
{
size = other.size-1
motion_add(random(360),5)
motion_add(other.direction,other.speed)
speed += max(0,-other.my_health/5)
sprite_index = other.spr_dead
image_index = other.img
image_xscale = other.right
if speed &gt; 16
speed = 16
}
img += 1
}

//drop IDKWID?
if(random(50)&lt;1){
with instance_create(x,y,WepPickup)
{
scrWeapons()
wep =75
name = wep_name[wep]
ammo = 0
type = wep_type[wep]
curse = 0
sprite_index = wep_sprt[wep]
}}

if instance_exists(Marker)
{
    if place_meeting(x,y,Marker)
    {
        with Player
        {
        
        bigdogmarked=true;
        
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ammo &gt; 0
{
spr_hurt = sprInvertedScrapBossHurtSpin
snd_play(sndEnemyFire)
ammo -= 1
alarm[1] = 4
sprite_index = spr_fire
walk = 0
scrTarget()
if target &gt; 0
motion_add(point_direction(x,y,target.x,target.y)+turn*80,0.3)


if instance_exists(Player)
{//Loop leave no gap in spin attack on loop
    if Player.loops&gt;0
    {
    
    repeat(8)
{
with instance_create(x+lengthdir_x(24,gunangle),y+lengthdir_y(16,gunangle),EnemyBullet1)
{
motion_add(other.gunangle,2.5+random(1))
image_angle = direction
team = other.team
}
gunangle += 360/8
}

repeat(8)
{

    repeat(2)
    {
    with instance_create(x,y,EnemyBullet1)
    {
    motion_add(other.originalgunangle,2+random(5))
    image_angle = direction
    team = other.team
    }
    }

originalgunangle += 360/8
}

    }
    else
    { 
    
    repeat(5)//6
{
with instance_create(x+lengthdir_x(24,gunangle),y+lengthdir_y(16,gunangle),EnemyBullet1)
{
motion_add(other.gunangle,2.5)
image_angle = direction
team = other.team
}
gunangle += 360/6
}


repeat(6)
{

    repeat(2)
    {
    with instance_create(x,y,EnemyBullet1)
    {
    motion_add(other.originalgunangle,2+random(5))
    image_angle = direction
    team = other.team
    }
    }

originalgunangle += 360/4
}
    
    }
}
else
{


repeat(5)//6
{
with instance_create(x+lengthdir_x(24,gunangle),y+lengthdir_y(16,gunangle),EnemyBullet1)
{
motion_add(other.gunangle,2.5)
image_angle = direction
team = other.team
}
gunangle += 360/6
}

repeat(6)
{

    repeat(2)
    {
    with instance_create(x,y,EnemyBullet1)
    {
    motion_add(other.originalgunangle,2+random(5))
    image_angle = direction
    team = other.team
    }
    }

originalgunangle += 360/4
}

}


gunangle += 4*turn
}
else
{
spr_hurt = sprInvertedScrapBossHurt
spr_idle = sprInvertedScrapBossStop
image_index = 0
sprite_index = spr_idle
alarm[0] = 18
if instance_exists(Player)
    {
    if Player.loops&gt;0
    alarm[0]=8;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>spr_idle = sprInvertedScrapBossIdle

if random(3) &lt; 1
{
//SPIN ATTACK
alarm[1] = 15
originalgunangle=random(360);
snd_play(sndBigDogSpin)
ammo = 15+10*(1-(my_health/maxhealth))

if instance_exists(Player)
    {
    if Player.loops&gt;0
    ammo+=15
    }

turn = choose(1,-1)
walk = 0
image_index = 0
spr_idle = sprInvertedScrapBossCharge
sprite_index = spr_idle
speed = 0
}
else
{
ammo = 0
if random(4+instance_number(EnemyMissile)*0.5) &lt; 1 and instance_exists(Player)
{
snd_play(sndBigDogMissile)

with instance_create(x,y,EnemyMissile)
        {
        team=other.team
        motion_add(random(360),1)
        image_angle=direction;
        }
        
        snd_play(sndBigDogMissile)
repeat(2)
{
with instance_create(x,y,ScrapBossMissile)
motion_add(random(360),2)
}


    if instance_exists(Player)
    {
    if Player.loops&gt;0
    {//fire an extra missile on loop
        with instance_create(x,y,EnemyMissile)
        {
        team=other.team
        motion_add(random(360),1)
        image_angle=direction;
        }
    }
    }

alarm[0] = 10
}
else
{
ammo = 0
walk = 20+random(10)
if instance_exists(Player)
    {
    if Player.loops&gt;0
    walk=10+random(10);
    }
motion_add(random(360),1)
alarm[0] = walk+10
}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()

if speed &gt; 2
speed = 2

if walk &gt; 0
{
walk -= 1
motion_add(direction,0.5)
if target &gt; 0
motion_add(point_direction(x,y,target.x,target.y),0.5)
sprite_index = spr_walk
if round(walk/10) = walk/10
snd_play(sndBigDogWalk)
if walk = 0
sprite_index = spr_idle
}

if ammo &gt; 0
{
if sprite_index != spr_fire and sprite_index != spr_hurt
{
speed = 0
sprite_index = spr_idle
}
speed = 1
}

if my_health &lt; maxhealth/2 and sndhalfhp = 0
{
snd_play(sndBigDogTaunt)
sndhalfhp = 1
}

if !instance_exists(Player) and sndtaunt = 0
{
tauntdelay += 1
if tauntdelay &gt; 50
{
snd_play(sndBigDogTaunt)
sndtaunt = 1
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="Wall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//with other
//{
//instance_destroy()
//instance_create(x,y,FloorExplo)
//}
move_bounce_solid(true)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(Drama)
{
with ScrapBoss
{
draw_sprite_ext(sprInvertedScrapBossIntro,-1,x,y,right,1,0,c_white,1)
image_index += 0.4
}
}
else
draw_sprite_ext(sprite_index,-1,x,y,right,1,0,c_white,1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
