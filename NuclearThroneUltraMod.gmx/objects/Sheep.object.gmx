<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprSheepIdleA</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>hitme</parentName>
  <maskName>mskBandit</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>raddrop = choose(0,0,1);
maxhealth = 1
meleedamage = 0
size = 1


idle=true;
spr_idle = sprSheepIdleA
spr_walk = sprSheepWalk
spr_hurt = sprSheepHurt
spr_dead = sprSheepDead


image_speed = 0.4
friction = 0.4
right = choose(1,-1)
my_health = maxhealth

if instance_exists(Player)
{
if Player.skill_got[11] = 1
my_health = round(my_health*0.8)
}


team = 0
target = -1

snd_hurt = sndHitFlesh
snd_dead = sndSheepDead
snd_mele = sndMaggotBite


snd_hurt = sndBanditHit
snd_dead = sndSheepDead

//behavior
walk = 0
alarm[1] = 30+random(90)
wkick = 0

alarm[0]=6;//before sheep can die
snd_play(sndSheep);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scrDrop(2,0)

//NOW SOME ENEMY CODE
with instance_create(x,y,Corpse)
{
size = other.size
mask_index = other.mask_index
motion_add(other.direction,other.speed)
speed += max(0,-other.my_health/5)
sprite_index = other.spr_dead
image_xscale = other.right

if instance_exists(Player)
{
//if Player.ultra_got[50]
speed +=1

if Player.skill_got[20] = 1
speed += 9
}
if speed &gt; 16
speed = 16
if size &gt; 0
speed /= size


}

snd_play(snd_dead)

Sleep(20+size*15)
if instance_exists(Player)
{
if Player.race = 4
raddrop += 1
}

do {if raddrop &gt; 15
{raddrop -= 10
with instance_create(x,y,BigRad)
{motion_add(other.direction,other.speed)
motion_add(random(360),random(other.raddrop/2)+3)
repeat(speed)
speed *= 0.9}}
}
until raddrop &lt;= 15

repeat(raddrop)
{
with instance_create(x,y,Rad)
{motion_add(other.direction,other.speed)
motion_add(random(360),random(other.raddrop/2)+3)
repeat(speed)
speed *= 0.9}
}

//Mutations
if instance_exists(Player)
{
//SOME KILLS REGENERATE AMMO
    if Player.skill_got[6] = 1 and random(10) &lt; 3
    {
    type = choose(1,2,3,4,5)
    
    Player.ammo[type] += round(Player.typ_ammo[type]/2)
    if Player.ammo[type] &gt; Player.typ_amax[type]
    Player.ammo[type] = Player.typ_amax[type]
    
    
    dir = instance_create(x,y,PopupText)
    dir.mytext = "+"+string(round(Player.typ_ammo[type]/2))+" "+string(Player.typ_name[type])
    if Player.ammo[type] = Player.typ_amax[type]
    dir.mytext = "MAX "+string(Player.typ_name[type])
    }
    
    //SOME KILLS REGENERATE HEALTH
    if Player.skill_got[7] = 1 and random(14) &lt; 1
    {
    num = 1
    Player.my_health += num
    if Player.my_health &gt; Player.maxhealth
    Player.my_health = Player.maxhealth
    
    dir = instance_create(x,y,PopupText)
    dir.mytext = "+"+string(num)+" HP"
    if Player.my_health = Player.maxhealth
    dir.mytext = "MAX HP"
    }
    
    //TRIGGER FINGERS
    if Player.skill_got[24]
    {
    Player.reload -=10;
    Player.breload -=10;
    Player.triggerfinger=2;//Shine weapon when trigger fingers is working
    }
    
    if(Player.ultra_got[18]==1){//PLANT ULTRA B KILLER
    if place_meeting(x,y,Tangle)
    {
    instance_create(x,y,Sapling);
    }
    }
    
    if Player.ultra_got[33]==1 //Chicken Ultra A harder to kill
    {
    if Player.my_health &lt;= 0
    {
    if Player.race = 9 and Player.bleed &lt; 150
    {
        if Player.bleed&gt;0{
        Player.bleed-=30;
        }
    }
    
    }
    }
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[1] = 20+random(10)

scrTarget()
if target &gt; 0
{
if collision_line(x,y,target.x,target.y,Wall,0,0) &lt; 0
{
if point_distance(target.x,target.y,x,y) &gt; 48
{

}
else
{
direction = point_direction(target.x,target.y,x,y)+random(20)-10
speed = 0.4
walk = 40+random(10)
//gunangle = point_direction(x,y,target.x,target.y)
}

if target.x &lt; x
right = -1
else if target.x &gt; x
right = 1
}
else if random(4) &lt; 1
{
motion_add(random(360),0.4)
walk = 20+random(10)
alarm[1] = walk+10+random(30)
//gunangle = direction
if hspeed &gt; 0{
right = 1;
}
else if hspeed &lt; 0{
right = -1;
}
}
}
else if random(10) &lt; 1
{
motion_add(random(360),0.4)
walk = 20+random(10)
alarm[1] = walk+10+random(30)
//gunangle = direction
if hspeed &gt; 0
right = 1
else if hspeed &lt; 0
right = -1
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///This is so the sheep doesn't die instantly
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//event_inherited()
//ENEMY CODE
if(alarm[0]&gt;0)
{
my_health=maxhealth;
}
//optimise 
/*
//WKICK
if variable_local_exists("wkick") = 1
{
if wkick &gt; 0
wkick -= 1
if wkick &lt; 0
wkick += 1
}


//ANIMATE ME PLZ
if variable_local_exists("spr_chrg") = 1
{
if sprite_index != spr_hurt and sprite_index != spr_chrg
idle=true;
if sprite_index = spr_hurt or sprite_index = spr_chrg
{if image_index &gt; 2
idle=true;}
}
else
{
if variable_local_exists("spr_fire") = 1
{
if speed = 0
{if sprite_index != spr_hurt and sprite_index != spr_fire
idle=true;}
else
{if sprite_index != spr_hurt and sprite_index != spr_fire
sprite_index = spr_walk}
if sprite_index = spr_hurt// or sprite_index = spr_fire
{if image_index &gt; 2
idle=true;}
}
else
{*/
if speed = 0
{if sprite_index != spr_hurt
idle=true;}
else
{if sprite_index != spr_hurt
sprite_index = spr_walk}
if sprite_index = spr_hurt
{if image_index &gt; 2
idle=true;}
//}
//}

scrTarget()

if walk &gt; 0
{
walk -= 1
motion_add(direction,0.8)
}

if speed &gt; 3
speed = 3

image_xscale=right*-1;

if(my_health&lt;1)
{
instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="PortalShock">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>my_health=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="prop">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>motion_add(point_direction(other.x,other.y,x,y),0.5)

if other.team != team and other.my_health &gt; 0 and size &gt; other.size and meleedamage &gt; 0
{
with other
{
my_health -= other.meleedamage
sprite_index = spr_hurt
image_index = 0
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if size &lt;= other.size
motion_add(point_direction(other.x,other.y,x,y),1)

//cap speed
if speed &gt; 16 speed = 16
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="chestprop">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>motion_add(point_direction(other.x,other.y,x,y),0.5)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="Player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//ENEMY CODE

if (other.skill_got[8] = 1)
    {
    my_health-=1;
    }
if size &lt;= 2
motion_add(point_direction(other.x,other.y,x,y),1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="Wall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var olddir, oldspeed;
olddir = direction
oldspeed = speed
move_bounce_solid(true)

motion_add(olddir,speed)
speed = oldspeed

if hspeed &gt; 0 and !place_free(x+hspeed,y)
{do hspeed -= friction until place_free(x+hspeed,y) or hspeed &lt;= 0}
else
if hspeed &lt; 0 and !place_free(x+hspeed,y)
{do hspeed += friction until place_free(x+hspeed,y) or hspeed &gt;= 0}

if vspeed &gt; 0 and !place_free(x,y+vspeed)
{do vspeed -= friction until place_free(x,y+vspeed) or vspeed &lt;= 0}
else
if vspeed &lt; 0 and !place_free(x,y+vspeed)
{do vspeed += friction until place_free(x,y+vspeed) or vspeed &gt;= 0}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(idle)
{
    if(random(10)&lt;2)
    {sprite_index=sprSheepIdleB;}
    else{sprite_index=sprSheepIdleA;}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
draw_self();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
